/* --- main containers --- */

	body {
		--bad-color: #d22;
		--color1: #234;
		--color2: #F59561;
		--color3: #fff;
		--color4: #eee;
		--color5: #222;
		--good-color: #282;
		align-items: center;
		background-color: var(--color3);
		color: var(--color5);
		display: flex;
		font-family: "Arial", "Helvetica", "Liberation Sans", "FreeSans", "sans-serif";
		font-size: 0.95em;
		justify-content: center;
		margin: 0;
		position: fixed;
		width: 100%;
	}
	
	/* Overwrite color scheme. Applied on body. */
	.dark {
		--bad-color: #f33;
		--color1: #F59561;
		--color2: #234;
		--color3: #111;
		--color4: #222;
		--color5: #fff;
		--good-color: #3f3;
	}

	/* Hide unusable features. Applied on body. */
	.online-required, .ws-require {
		display: none !important;
	}

	/* Reveal usable features. Applied on elements. */
	.online .online-required, .ws-available .ws-required {
		display: block !important;
	}

	main {
		box-sizing: border-box;
		display: grid;
		gap: 2px;
		grid-template-rows: auto 1fr 1fr;
		min-width: 360px;
		padding: 1px;
		width: 100%;
	}

	/* Limit width. Applied on main. */
	.mw360 { max-width: 360px; }
	.mw540 { max-width: 540px; }
	.mw768 { max-width: 768px; }
	.mw1024 { max-width: 1024px; }
	.mw1280 { max-width: 1280px; }
	

	article {
		display: flex;
		flex-direction: column;
		overflow-y: scroll;
		padding-right: 1px;
		scroll-behavior: smooth;
	}
	
	article, 
	textarea {
		scrollbar-color: var(--color1) var(--color4);
		scrollbar-width: thin;
	}

	#output {
		background-color: var(--color3);
		margin-left: 1px;
		padding: 0 10px;
	}

/* --- shared --- */

	a { 
		color: var(--color1);
	}

	img {
		display: block;
		margin: auto;
		width: 100%;
	}

	figcaption { 
		text-align: center;
	}

/* --- notice (simple message) --- */

	#notice {
		background-color: var(--color3);
		box-sizing: border-box;
		font-weight: bold;
		left: 0;
		margin: 0;
		padding: 10px;
		position: fixed;
		right: 0;
		text-align: center;
		top: 0;
		transform: translateY(-300px);
		transition: transform 0.275s ease;
		z-index: 2;
	}

	#notice.visible { 
		transform: initial;
	}

	/* Positive messages. */
	#notice.good::before {
		color: var(--good-color);
		content: "✔ ";
	}

	/* Negative messages. */
	#notice.bad::before {
		color: var(--bad-color);
		content: "✘ ";
	}

/* --- dial (action required) --- */

	#dial {
		color: var(--color5);
		max-height: 85vh;
		max-width: 500px;
		overflow-y: auto;
		padding: 10px;
		position: absolute;
		transform: scale(0);
		width: 85%;
		z-index: 2;
	}

	#dial.visible { 
		transform: initial;
	}

	#dial>div {
		border-top: solid 1px var(--color1);
		margin-top: 10px;
	}

	#dial>button {
		display: block;
		margin-left: auto;
	}

/* --- navigation and interface --- */

	nav { 
		display: flex;
		justify-content: flex-end;
	}

	#bt-open-menu {
		display: flex;
		align-items: center;
		fill: var(--bad-color);
	}

	.online #bt-open-menu { 
		fill: var(--good-color);
	}

	#bt-open-menu svg {
		fill: inherit;
		margin-right: 5px;
		width: 15px;
	}

	#nav-container {
		background-color: var(--color3);
		position: fixed;
		transform: scale(0);
	}

	.visible #nav-container {
		transform: initial;
	}

	.input-section {
		display: grid;
		grid-template-areas:
		"title title title" 
		"but but content"
		"but but content"
		"but but content"
		"but but content"
		"but but content"
		"but but content";
		grid-template-columns: repeat(2, 40px) 1fr;
	}

	button, 
	input, 
	textarea, 
	#label-open-file {
		background-color: var(--color4);
		border:  none;
		color: var(--color5);
		font-family: inherit;
		font-size: 1em;
		margin: 1px;
		padding: 8px;
	}

	button, 
	#label-open-file  {
		color: var(--color1);
		cursor: pointer;
		font-weight: bold;
	}

	.draft::after {
		color: #ffa500;
		content:  " (brouillon)";
		font-weight: normal;
	}

	.release::after {
		color: var(--good-color);
		content:  " (publié)";
		font-weight: normal;
	}

	.nav-button {
		display: block;
		text-align: right;
		width: 250px;
	}

	#label-open-file {
		width: initial;
	}

	#input-open-file {		
		display: block;
		height: 34px;
		margin: -8px 0 0 -8px;
		opacity: 0;
		padding: 0;
		position: absolute;
		top: -45px;
		width: 250px;
	}

	#posts-list button {
		text-align: left;
	}

	#posts-list {
		padding-left: 0;
		display: grid;
	}

	#posts-list li {
		display: flex;
	}

	button:not(.danger):hover, 
	#label-open-file:hover { 
		background-color: var(--color1);
		color: var(--color4);
	}

	.dark button:not(.danger):hover, 
	.dark #label-open-file:hover { 
		background-color: var(--color2);
		color: var(--color1);
	}
	
	.danger {
		background-color: var(--bad-color);
		color: #fff;
		opacity: 0.85;
	}

	.danger:hover {
		opacity: 1;
	}

	#bt-add-section {
		width: 175px;
	}

	textarea {
		grid-area: content;
		min-height: 150px; 
		resize: vertical;
	}

	section input { 
		grid-area: title;
	}
	article label {
		left: -9999px;
		position: absolute;
	}

	#dial label, 
	#dial input, 
	#dial textarea {
		display: block;
		margin: 10px 0;
		width:  100%;
		box-sizing: border-box;
	}

	#raw-data {
		color: var(--color1);
	}

	#dial .hidden { 
		transform: scale(0);
	}

/* --- media queries --- */

	@media screen and (max-width: 768px) {
		#bt-set-width {
			display: none;
		}
	}

	@media screen and (min-width: 768px) {
		main {
			padding: 4px;
		}
		button, 
		input, 
		textarea, 
		#label-open-file {
			margin: 2px
		}
		#bt-set-width {
			display: block;
		}
	}