"use strict";document.body.onload=()=>{const t={};t.main=chess({type:"main"}),t.dial=chess({type:"div",attributes:{id:"dial",class:"hidden"},children:[{type:"button",attributes:{id:"bt-close-dial",onclick:"dial()"},text:LAB.bt.close},{type:"div",attributes:{id:"dial-content"}}]}),t.nav=chess({type:"nav",attributes:{id:"main-nav"},children:[{type:"button",attributes:{id:"bt-open-menu",title:LAB.bt.menu,onclick:"toggleMenu(true)"},text:LAB.bt.menu},{type:"div",attributes:{id:"nav-container",class:"hidden",onmouseleave:"toggleMenu(false)"},children:[{type:"button",attributes:{id:"bt-save-work",class:"nav-button disabled",onclick:"saveIntoLocalStorage()"},text:LAB.bt.save},{type:"button",attributes:{id:"bt-delete-work",class:"nav-button danger disabled",onclick:"deleteFromLocalStorage()"},text:LAB.bt.delete+" X"},{type:"button",attributes:{id:"bt-release-work",class:"nav-button disabled",onclick:"pushPost()"},text:LAB.bt.pushPost},{type:"button",attributes:{id:"bt-list-work",class:"nav-button disabled",onclick:"getFiles()"},text:LAB.bt.listPost},{type:"button",attributes:{id:"bt-export-work",class:"nav-button",onclick:"exportToFile()"},text:LAB.bt.exportPost},{type:"div",children:[{type:"label",attributes:{id:"label-open-file",class:"nav-button"},text:LAB.bt.importPost,children:[{type:"input",attributes:{accept:"text/plain",id:"input-open-file",onchange:"importFromFile(this.files[0])",type:"file"}}]}]},{type:"button",attributes:{id:"bt-switch-theme",class:"nav-button",onclick:"toggleTheme()"},text:LAB.bt.setTheme},{type:"button",attributes:{id:"bt-set-width",class:"nav-button disabled",onclick:"setWidth()"},text:LAB.bt.setWidth},{type:"button",attributes:{id:"bt-set-height",class:"nav-button",onclick:"setHeight()"},text:LAB.bt.setHeight},{type:"button",attributes:{id:"bt-read-help",class:"nav-button",onclick:"onHelp()"},text:LAB.bt.doc},{type:"button",attributes:{id:"bt-close-nav",class:"nav-button",onclick:"toggleMenu(false)"},text:LAB.bt.close}]}]}),t.output=chess({type:"article",attributes:{id:"output",onclick:"toggleMenu(false)"},children:[{type:"h1",attributes:{id:"output-art-title"}},{type:"div",attributes:{id:"output-art-introduction"}}]}),t.input=chess({type:"article",attributes:{id:"input",onclick:"toggleMenu(false)"},children:[{type:"label",attributes:{for:"input-art-title"},text:LAB.input.h1},{type:"input",attributes:{id:"input-art-title",oninput:"runEditor('input-art-title')",placeholder:LAB.input.h1,type:"text"}},{type:"label",attributes:{for:"input-art-introduction"},text:LAB.input.intro},{type:"textarea",attributes:{id:"input-art-introduction",oninput:"runEditor('input-art-introduction')",placeholder:LAB.input.intro}},{type:"button",attributes:{id:"bt-add-section",onclick:"addSection()"},text:LAB.bt.addSec}]}),document.body.appendChild(t.dial),t.main.appendChild(t.nav),t.main.appendChild(t.output),t.main.appendChild(t.input),document.body.appendChild(t.main),resetPost(),localStorage&&(document.getElementById("bt-save-work").classList.remove("disabled"),document.getElementById("bt-delete-work").classList.remove("disabled"),localStorage.getItem("post")&&importFromLocalStorage(JSON.parse(localStorage.getItem("post"))),"light"===localStorage.getItem("theme")&&toLightTheme());let e=createRequest(API_URL+"init.php");e.onload=()=>{200==e.status&&(document.getElementById("bt-list-work").classList.remove("disabled"),document.getElementById("bt-release-work").classList.remove("disabled"),document.getElementById("bt-open-menu").setAttribute("class","online"))},e.send("editorId="+EDITOR_ID),setViewportHeight(),window.onresize=()=>{setViewportHeight()},document.documentElement.lang=LANG};